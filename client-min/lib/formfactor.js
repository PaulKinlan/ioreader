(function(){window.matchMedia||(window.matchMedia=function(a,b){var c,d=a.documentElement,e=a.createElement("body"),f=a.createElement("div");f.setAttribute("id","ejs-qtest"),e.appendChild(f);return function(b){var g=a.createElement("style"),h="@media "+b+" { #ejs-qtest { position: absolute; } }";g.type="text/css",g.styleSheet?g.styleSheet.cssText=h:g.appendChild(a.createTextNode(h)),d.insertBefore(e,d.firstChild),d.insertBefore(g,d.firstChild),c=(window.getComputedStyle?window.getComputedStyle(f,null):f.currentStyle).position=="absolute",d.removeChild(e),d.removeChild(g);return{matches:c,media:b}}}(document)),"use strict",typeof document!="undefined"&&!("classList"in document.createElement("a"))&&function(a){var b="classList",c="prototype",d=(a.HTMLElement||a.Element)[c],e=Object;strTrim=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},arrIndexOf=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},DOMEx=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},checkTokenAndGetIndex=function(a,b){if(b==="")throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character");return arrIndexOf.call(a,b)},ClassList=function(a){var b=strTrim.call(a.className),c=b?b.split(/\s+/):[];for(var d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.className=this.toString()}},classListProto=ClassList[c]=[],classListGetter=function(){return new ClassList(this)},DOMEx[c]=Error[c],classListProto.item=function(a){return this[a]||null},classListProto.contains=function(a){a+="";return checkTokenAndGetIndex(this,a)!==-1},classListProto.add=function(a){a+="",checkTokenAndGetIndex(this,a)===-1&&(this.push(a),this._updateClassName())},classListProto.remove=function(a){a+="";var b=checkTokenAndGetIndex(this,a);b!==-1&&(this.splice(b,1),this._updateClassName())},classListProto.toggle=function(a){a+="",checkTokenAndGetIndex(this,a)===-1?this.add(a):this.remove(a)},classListProto.toString=function(){return this.join(" ")};if(e.defineProperty){var f={get:classListGetter,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,f)}catch(g){g.number===-2146823252&&(f.enumerable=!1,e.defineProperty(d,b,f))}}else e[c].__defineGetter__&&d.__defineGetter__(b,classListGetter)}(self);var a="__formfactorJSOverride=",b={excss:{tag:"link",rel:"stylesheet",urlKind:"href",type:"text/excss"},less:{tag:"link",rel:"stylesheet/less",urlKind:"href",type:"text/css"},css:{tag:"link",rel:"stylesheet",urlKind:"href",type:"text/css"},js:{tag:"script",urlKind:"src",type:"text/javascript"},coffee:{tag:"script",urlKind:"src",type:"text/coffescript"}},c=function(a){var b=matchMedia(a);return b.matches},d=function(a){return typeof a=="function"&&a()||typeof a=="boolean"&&a||typeof a=="string"&&c(a)},e={},f=function(a){var b=e[a],c;for(var f=0;c=b[f];f++)if(d(c))return!0;return!1},g=function(a,c,d,e,f){var g=a.substring(a.lastIndexOf(".")+1),h=b[g]||{type:f,rel:d,urlKind:e},i=document.createElement(h.tag||c);h.rel&&(i.rel=h.rel),h.type&&(i.type=h.type),i[h.urlKind]=a;return i},h=function(a){a.callbacks=a.callbacks||function(){},a.resources=a.resources||[];if(typeof a.resources=="string")document.head.appendChild(g(a.resources));else if(a.resources instanceof Array){var b;for(var c=0;b=a.resources[c];c++)typeof b=="string"?document.head.appendChild(g(b)):document.head.appendChild(g(b.href,b.tag,b.rel,b.urlKind,b.type))}if(typeof a.callbacks=="function")a.callbacks(a.formfactor);else if(a.callbacks instanceof Array){var d;for(var e=0;d=a.callbacks;e++)d(a.formfactor)}if(document.querySelector){var f=document.querySelector("html");f.classList.add(a.formfactor)}},i=function(a){var b={};b[a]={};return m(b)==a},j=function(a){return!i(a)},k=function(){var b=document.cookie.split(";");for(var c=0;c<b.length;c++){var d=b[c];while(d.charAt(0)==" ")d=d.substring(1,d.length);if(d.indexOf(a)==0)return d.substring(a.length,d.length)}return null},l=function(b,c){var d=a+b;c.domain&&(d+="; Domain="+c.domain),c.path&&(d+="; Path="+c.path),document.cookie=d},m=function(a,b,c){b=b||{resources:[],callbacks:function(){}},c=c||function(){};var d,e=k();if(!!e==!1){for(var g=0;d=a[g];g++)if(f(d.formfactor)){h(d),c(d.formfactor);return d.formfactor}}else for(var g=0;d=a[g];g++)if(d.formfactor==e){h(d),c(d.formfactor);return d.formfactor}h(b),c();return},n=function(a){for(var b in a)e[b]=a[b]},o=function(){var a=[];for(var b=0;formfactorAction=formfactorActions[b];b++)a.pushr(formfactorAction.formfactor);return a},p=function(a,b){if(!!e[a]==!1)throw"Unknown Formfactor";l(a,b)};window.formfactor={register:n,detect:m,factors:o,override:p,is:i,isnt:j}})()