var TvController=function(){var a=this;$(".categories, .category, article").live("click",function(b){a.activate(b.currentTarget),b.preventDefault();return!1}),window.addEventListener("rootchanged",function(){var a=$("article"),b={params:{category:a.data("category"),article:a.data("article")}};Controller.onArticleChanged(b)}),window.addEventListener("articlechanged",function(){var a=Controller.getActiveArticle();scrollLeft=Math.abs(parseInt($(".articles").css("margin-left"))),screenLeft=a.position().left,console.log("screenLeft: "+screenLeft),windowWidth=$(window).width(),articleWidth=$("article").width();if(screenLeft>windowWidth-articleWidth)$(".articles").css("margin-left",-(scrollLeft+windowWidth-screenLeft+articleWidth)+"px");else if(screenLeft<0){var b=Math.min(0,-(scrollLeft+screenLeft));$(".articles").css("margin-left",b+"px")}});var b=function(a){var b=$(document.body);if(a===undefined)return b.hasClass("full");a?b.addClass("full"):b.removeClass("full")};window.addEventListener("keydown",function(c){var d,e=Controller.getActiveArticle(),f=Controller.getActiveCategory();if(37<=c.keyCode&&c.keyCode<=40&&b())c.preventDefault(),b(!1);else{c.keyCode!==38&&delete a.lastArticle;switch(c.keyCode){case 37:e.length?d=e.prev():f.length&&(d=f.prev());break;case 38:e.length?b(!0):f.length&&(a.lastArticle?d=a.lastArticle:d=$("section.active article").first());break;case 39:e.length?d=e.next():f.length&&(d=f.next());break;case 40:e.length&&(d=f,a.lastArticle=e)}!!d&&d.length>0&&Controller.activate(d)}})};TvController.prototype=new BaseController,TvController.prototype.constructor=TvController,Controller=new TvController